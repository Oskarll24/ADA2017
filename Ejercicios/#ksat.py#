class ksat:
    def __init__(self,dnf=False,clauses=None,pathprob=None):
        if dirprob not None:
            filep = open(dirprob, 'r')
            p = filep.readline()[:-1]
            self._dnf = (p == 'False' or p =='DNF' or p == 'dnf')
            self.clauses = []
            processfile(filep)
        else:
            self._dnf = dnf
            self._clauses = [] if clauses = None else clauses

    def processfile(self,filep):
        p = filep.readline()[:-1]
        r = False
        while p:
            varbs = p.split(' ')
            clause.append(varbs)
            print(varbs)
            p = filep.readline()[:-1] 
        else:
            r=True
        return r     

def tsat(dirprob, dirass):
    filea = open(dirass, 'r')
    val = filea.readline()[:-1]== 'False'
    ass = []
    a = filea.readline()[:-1]
    while a:
        ass.append(a)
        a =filea.readline()[:-1]
    print(ass)
    filep = open(dirprob, 'r')
    p = filep.readline()[:-1]
    dnf = (p == 'False' or p =='DNF' or p == 'dnf')
    if dnf:
        print('DNF')
        p = filep.readline()[:-1]
        r = False
        while p:
            varbs = p.split(' ')
            rc, rv = True, True
            print(varbs)
            for var in varbs:
                va = ''
                neg = False
                if(var[0]== '!'):
                  va = var[1:]
                  neg = True
                else:
                    va = var
                print(var, va)
                rv = (va in ass and not neg) or (va not in ass and neg)
                rc = rc and rv
                if not rv:
                    break
                print('rc: ', rc, ' rv: ', rv)
            r = r or rc
            p = filep.readline()[:-1]
    else:
        print('CNF')
        r = True,
        p = filep.readline()[:-1]
        while p:
            varbs = p.split(' ')
            rc, rv = False, True
            print(varbs)
            for var in varbs:
                va = ''
                neg = False
                if(var[0]== '!'):
                  va = var[1:]
                  neg = True
                else:
                    va = var
                rv = (va in ass and not neg) or (va not in ass and neg)
                rc = rc or rv
                print('rc: ', rc, ' rv: ', rv)
            r = r and rc
            if not rc:
                break
            else:
                p = filep.readline()[:-1]        
    return r     
    
                
#print(tsat('ptsat.py', 'atsat.py'))

